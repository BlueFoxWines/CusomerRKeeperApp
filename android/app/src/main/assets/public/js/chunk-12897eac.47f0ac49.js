(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12897eac"],{"02fe":function(t,e,n){"use strict";n.r(e);var i=n("7a23"),c={class:"bluefox-title title"},r={class:"container has-text-centered"},s={class:"bluefox-text"},o={key:0,class:"orderslist"},a={class:"column"},u={class:"columns is-mobile"},l={class:"orderslist-item-title column"},d={class:"orderslist-item-preview column is-half"},O={class:"orderslist-item-arrow column is-1"},j={key:1,class:"control"},b=Object(i["j"])("hr",null,null,-1);function f(t,e,n,f,h,m){var g=Object(i["E"])("ion-title"),p=Object(i["E"])("ion-icon"),I=Object(i["E"])("ion-button"),v=Object(i["E"])("router-link"),y=Object(i["E"])("ion-buttons"),w=Object(i["E"])("ion-toolbar"),k=Object(i["E"])("ion-header"),E=Object(i["E"])("ion-refresher-content"),$=Object(i["E"])("ion-refresher"),_=Object(i["E"])("ion-content"),N=Object(i["E"])("loading"),T=Object(i["E"])("ion-page");return Object(i["w"])(),Object(i["g"])(T,null,{default:Object(i["N"])((function(){return[Object(i["j"])(k,{translucent:""},{default:Object(i["N"])((function(){return[Object(i["j"])(w,null,{default:Object(i["N"])((function(){return[Object(i["j"])(g,null,{default:Object(i["N"])((function(){return[Object(i["j"])("h1",c,Object(i["I"])(t.$t("Interface.Order.Title")),1)]})),_:1}),m.IsAuthenticated&&m.IsOrdersExist?(Object(i["w"])(),Object(i["g"])(y,{key:0,slot:"primary"},{default:Object(i["N"])((function(){return[Object(i["j"])(v,{to:{name:"Booking"}},{default:Object(i["N"])((function(){return[Object(i["j"])(I,null,{default:Object(i["N"])((function(){return[Object(i["j"])(p,{slot:"icon-only",src:"assets/icon_cart.svg"})]})),_:1})]})),_:1})]})),_:1})):Object(i["h"])("",!0)]})),_:1})]})),_:1}),Object(i["j"])(_,{fullscreen:"",class:"ion-padding"},{default:Object(i["N"])((function(){return[Object(i["j"])($,{slot:"fixed",onIonRefresh:e[1]||(e[1]=function(t){return m.getOrders(t)})},{default:Object(i["N"])((function(){return[Object(i["j"])(E)]})),_:1}),Object(i["j"])("div",r,[Object(i["j"])("p",s,[m.IsAuthenticated||m.IsOrdersExist?m.IsAuthenticated&&!m.IsOrdersExist?(Object(i["w"])(),Object(i["g"])(i["a"],{key:1},[Object(i["i"])(Object(i["I"])(t.$t("Interface.Order.Empty")),1)],64)):Object(i["h"])("",!0):(Object(i["w"])(),Object(i["g"])(i["a"],{key:0},[Object(i["i"])(Object(i["I"])(t.$t("Interface.Order.NotAuthenticated"))+" ",1),Object(i["j"])(v,{to:{name:"Login",query:{redirect:t.$route.path}}},{default:Object(i["N"])((function(){return[Object(i["i"])(Object(i["I"])(t.$t("Interface.Order.NotAuthenticatedLink")),1)]})),_:1},8,["to"])],64))]),m.IsOrdersExist?(Object(i["w"])(),Object(i["g"])("ul",o,[(Object(i["w"])(!0),Object(i["g"])(i["a"],null,Object(i["C"])(m.Orders,(function(e){return Object(i["w"])(),Object(i["g"])("li",{key:e.Id},[Object(i["j"])(v,{to:{name:"Order",params:{id:e.Id}},class:"orderslist-item columns is-multiline is-mobile"},{default:Object(i["N"])((function(){return[Object(i["j"])("div",a,[Object(i["j"])("div",u,[Object(i["j"])("div",l,[m.isFutureDateTime(e.StartDate)?(Object(i["w"])(),Object(i["g"])(i["a"],{key:0},[Object(i["i"])(Object(i["I"])(t.$t("Interface.Order.DateTitle.Future")),1)],64)):(Object(i["w"])(),Object(i["g"])(i["a"],{key:1},[Object(i["i"])(Object(i["I"])(t.$t("Interface.Order.DateTitle.Past")),1)],64)),Object(i["i"])(" "+Object(i["I"])(m.filterDateTime(e.StartDate)),1)]),Object(i["j"])("div",{class:["orderslist-item-status column is-4",{"is-notpayed":0===e.OrderStatus,"is-payed":2===e.OrderStatus,"is-closed":4===e.OrderStatus}]},Object(i["I"])(t.$t("Interface.Order.Status."+e.OrderStatus)),3)]),Object(i["j"])("div",d,[e.ProductItems&&e.ProductItems.length>0?(Object(i["w"])(),Object(i["g"])(i["a"],{key:0},[Object(i["i"])(Object(i["I"])(e.ProductItems),1)],64)):(Object(i["w"])(),Object(i["g"])(i["a"],{key:1},[Object(i["i"])(Object(i["I"])(t.$t("Interface.Order.Product.Booked")),1)],64))])]),Object(i["j"])("div",O,[Object(i["j"])(p,{src:"assets/icon_arrow_right.svg"})])]})),_:2},1032,["to"])])})),128))])):Object(i["h"])("",!0),m.IsOrdersExist?Object(i["h"])("",!0):(Object(i["w"])(),Object(i["g"])("div",j,[b,Object(i["j"])(v,{to:{name:"Booking"},class:"button is-theme is-outlined is-fullwidth"},{default:Object(i["N"])((function(){return[Object(i["i"])(Object(i["I"])(t.$t("Interface.Order.Book")),1)]})),_:1})]))])]})),_:1}),Object(i["j"])(N,{active:t.IsLoading,"is-full-page":!0},null,8,["active"])]})),_:1})}var h=n("d867"),m=n("5da7"),g=n("2658"),p=n("3a5e"),I=n("74f4"),v={name:"Orders",components:{IonContent:h["e"],IonPage:h["k"],IonHeader:h["g"],IonButton:h["c"],IonButtons:h["d"],IonToolbar:h["s"],IonTitle:h["r"],IonIcon:h["h"],IonRefresher:h["l"],IonRefresherContent:h["m"],Loading:p["a"]},mixins:[g["a"]],data:function(){return{FirstUsage:!0}},computed:{IsAuthenticated:function(){return this.$store.getters.IS_AUTHENTICATED},IsOrdersExist:function(){return this.$store.getters.IS_ORDER_LIST_NOT_EMPTY},Orders:function(){return this.$store.state.Order.List}},ionViewWillEnter:function(){this.getOrders()},methods:{getOrders:function(t){var e=this;this.IsAuthenticated&&this.isRefreshAllowed(t)&&(this.switchLoading(),this.$store.dispatch(I["a"]).then((function(){e.FirstUsage=!1,t&&t.target.complete()})).finally((function(){return e.switchLoading()})))},isRefreshAllowed:function(t){return!!t||(!!this.$route.params.refresh||!!this.FirstUsage)},isFutureDateTime:function(t){return new Date(t)>new Date},filterDateTime:function(t){return Object(m["a"])(t)}}};v.render=f;e["default"]=v},2658:function(t,e,n){"use strict";e["a"]={data:function(){return{IsLoading:!1}},methods:{switchLoading:function(){this.IsLoading=!this.IsLoading}}}},"3a5e":function(t,e,n){"use strict";var i=n("7a23"),c=Object(i["j"])("div",{class:"loading-icon"},null,-1);function r(t,e,n,r,s,o){return Object(i["w"])(),Object(i["g"])(i["d"],{name:n.animation},{default:Object(i["N"])((function(){return[s.isActive?(Object(i["w"])(),Object(i["g"])("div",{key:0,class:["loading-overlay is-active",{"is-full-page":s.displayInFullPage}]},[Object(i["j"])("div",{class:"loading-background",onClick:e[1]||(e[1]=function(){return o.cancel&&o.cancel.apply(o,arguments)})}),Object(i["D"])(t.$slots,"default",{},(function(){return[c]}))],2)):Object(i["h"])("",!0)]})),_:1},8,["name"])}var s=n("5da7"),o={name:"BLoading",model:{prop:"active",event:"update:active"},props:{active:Boolean,programmatic:Boolean,container:{type:[Object,Function,window.HTMLElement],default:null},isFullPage:{type:Boolean,default:!0},animation:{type:String,default:"fade"},canCancel:{type:Boolean,default:!1},onCancel:{type:Function,default:function(){}}},data:function(){return{isActive:this.active||!1,displayInFullPage:this.isFullPage}},watch:{active:function(t){this.isActive=t},isFullPage:function(t){this.displayInFullPage=t}},created:function(){"undefined"!==typeof window&&document.addEventListener("keyup",this.keyPress)},beforeMount:function(){this.programmatic&&(this.container?(this.displayInFullPage=!1,this.$emit("update:is-full-page",!1),this.container.appendChild(this.$el)):document.body.appendChild(this.$el))},mounted:function(){this.programmatic&&(this.isActive=!0)},beforeUnmount:function(){"undefined"!==typeof window&&document.removeEventListener("keyup",this.keyPress)},methods:{cancel:function(){this.canCancel&&this.isActive&&this.close()},close:function(){var t=this;this.onCancel.apply(null,arguments),this.$emit("close"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout((function(){t.$destroy(),Object(s["b"])(t.$el)}),150))},keyPress:function(t){var e=t.key;"Escape"!==e&&"Esc"!==e||this.cancel()}}};o.render=r;e["a"]=o},"5da7":function(t,e,n){"use strict";function i(t){var e={year:"numeric",month:"numeric",day:"numeric",timezone:"UTC",hour:"numeric",minute:"numeric"};return new Date(t).toLocaleString("ru",e)}function c(t){"undefined"!==typeof t.remove?t.remove():"undefined"!==typeof t.parentNode&&null!==t.parentNode&&t.parentNode.removeChild(t)}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return c}))}}]);
//# sourceMappingURL=chunk-12897eac.47f0ac49.js.map