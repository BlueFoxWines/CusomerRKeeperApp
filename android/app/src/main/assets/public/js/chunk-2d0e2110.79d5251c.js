(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e2110"],{"7cb0":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),r={class:"container"},c={class:"profile"},a={class:"profile-photoicon"},l=Object(o["k"])("img",{class:"profile-avatar is-rounded",src:"/assets/profile_default.png"},null,-1),i={class:"profile-photoicon"},u={class:"control"},s={class:"control"},b=Object(o["k"])("hr",null,null,-1),d={class:"control"},f={type:"submit",class:"button is-theme is-fullwidth"},j=Object(o["k"])("br",null,null,-1);function O(e,t,n,O,h,p){var g=Object(o["G"])("ion-back-button"),m=Object(o["G"])("ion-buttons"),k=Object(o["G"])("ion-toolbar"),v=Object(o["G"])("ion-header"),y=Object(o["G"])("ion-icon"),P=Object(o["G"])("Field"),w=Object(o["G"])("loading"),I=Object(o["G"])("Form"),A=Object(o["G"])("ion-content"),x=Object(o["G"])("ion-page");return Object(o["y"])(),Object(o["g"])(x,null,{default:Object(o["P"])((function(){return[Object(o["k"])(v,null,{default:Object(o["P"])((function(){return[Object(o["k"])(k,null,{default:Object(o["P"])((function(){return[Object(o["k"])(m,{slot:"start"},{default:Object(o["P"])((function(){return[Object(o["k"])(g,{"default-href":"/main/profile"})]})),_:1})]})),_:1})]})),_:1}),Object(o["k"])(A,{fullscreen:"","scroll-y":!1,class:"ion-padding"},{default:Object(o["P"])((function(){return[Object(o["k"])("div",r,[Object(o["k"])("div",c,[O.photos.length>0?(Object(o["y"])(!0),Object(o["g"])(o["a"],{key:0},Object(o["E"])(O.photos,(function(e){return Object(o["y"])(),Object(o["g"])("figure",{key:e,class:"image",onClick:function(t){return O.showActionSheet(e)}},[Object(o["k"])("img",{class:"profile-avatar is-rounded",src:e.webviewPath},null,8,["src"]),Object(o["k"])("div",a,[Object(o["k"])(y,{src:"assets/icon_photo.svg"})])],8,["onClick"])})),128)):(Object(o["y"])(),Object(o["g"])("figure",{key:1,class:"image",onClick:t[1]||(t[1]=function(t){return O.showActionSheet(e.photo)})},[l,Object(o["k"])("div",i,[Object(o["k"])(y,{src:"assets/icon_photo.svg"})])])),Object(o["k"])(I,{class:"form",onSubmit:p.saveProfile},{default:Object(o["P"])((function(){return[Object(o["k"])(P,{modelValue:h.Form.Name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return h.Form.Name=e}),name:"Name",rules:h.ValidationRules.Name,as:"div",class:"field",type:"text"},{default:Object(o["P"])((function(t){var n=t.field,r=t.errors,c=t.errorMessage;return[Object(o["k"])("label",{class:["label",{"has-text-danger":Object.keys(r).length}]},[Object.keys(r).length?(Object(o["y"])(),Object(o["g"])(o["a"],{key:0},[Object(o["j"])(Object(o["K"])(c),1)],64)):(Object(o["y"])(),Object(o["g"])(o["a"],{key:1},[Object(o["j"])(Object(o["K"])(e.$t("Interface.Profile.Name.Label")),1)],64))],2),Object(o["k"])("div",u,[Object(o["k"])("input",Object(o["q"])(n,{class:["input",{"is-danger":Object.keys(r).length}],placeholder:e.$t("Interface.Profile.Name.Placeholder")}),null,16,["placeholder"])])]})),_:1},8,["modelValue","rules"]),Object(o["k"])(P,{modelValue:h.Form.Phone,"onUpdate:modelValue":t[3]||(t[3]=function(e){return h.Form.Phone=e}),name:"Phone",as:"div",class:"field",type:"tel"},{default:Object(o["P"])((function(t){var n=t.field,r=t.errors,c=t.errorMessage;return[Object(o["k"])("label",{class:["label",{"has-text-danger":Object.keys(r).length}]},[Object.keys(r).length?(Object(o["y"])(),Object(o["g"])(o["a"],{key:0},[Object(o["j"])(Object(o["K"])(c),1)],64)):(Object(o["y"])(),Object(o["g"])(o["a"],{key:1},[Object(o["j"])(Object(o["K"])(e.$t("Interface.Auth.Login.Phone.Placeholder")),1)],64))],2),Object(o["k"])("div",s,[Object(o["k"])("input",Object(o["q"])(n,{class:["input",{"is-danger":Object.keys(r).length}],placeholder:e.$t("Interface.Auth.Login.Phone.Label"),disabled:""}),null,16,["placeholder"])])]})),_:1},8,["modelValue"]),b,Object(o["k"])("div",d,[Object(o["k"])("button",f,Object(o["K"])(e.$t("Interface.Button.Save")),1)]),j,Object(o["k"])("p",{class:"profile-logout",onClick:t[4]||(t[4]=function(e){return p.logout()})},"Выйти из профиля"),Object(o["k"])(w,{active:e.IsLoading,"is-full-page":!0},null,8,["active"])]})),_:1},8,["onSubmit"])])])]})),_:1})]})),_:1})}var h=n("a34a"),p=n.n(h),g=n("d867"),m=n("506a"),k=n("7bb1"),v=n("5783"),y=n("23bd"),P=n("2658"),w=n("3a5e"),I=n("9225"),A=n("d017");function x(e){return F(e)||G(e)||_(e)||S()}function S(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){if(e){if("string"===typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function G(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function F(e){if(Array.isArray(e))return N(e)}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function V(e,t,n,o,r,c,a){try{var l=e[c](a),i=l.value}catch(u){return void n(u)}l.done?t(i):Promise.resolve(i).then(o,r)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var c=e.apply(t,n);function a(e){V(c,o,r,a,l,"next",e)}function l(e){V(c,o,r,a,l,"throw",e)}a(void 0)}))}}var C={string:m["c"]},$={name:"ProfileEdit",components:{IonPage:g["l"],IonContent:g["e"],IonBackButton:g["b"],IonButtons:g["d"],IonIcon:g["h"],IonHeader:g["g"],IonToolbar:g["t"],Field:k["a"],Form:k["b"],Loading:w["a"]},mixins:[P["a"]],setup:function(){var e=Object(y["a"])(),t=e.photos,n=e.takePhoto,o=e.deletePhoto,r=function(){var e=B(p.a.mark((function e(r){var c,a,l;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=[{text:I["a"].global.t("Interface.Button.Add"),handler:function(){n()}},{text:I["a"].global.t("Interface.Button.Cancel"),role:"cancel"}],a={text:I["a"].global.t("Interface.Button.Delete"),role:"destructive",handler:function(){o(r)}},t.value.length>0&&(c=[].concat(x(c),[a])),e.next=5,g["v"].create({mode:Object(g["x"])("android")?"md":"ios",header:"Фото профиля",translucent:!0,buttons:c});case 5:return l=e.sent,e.next=8,l.present();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{photos:t,takePhoto:n,showActionSheet:r}},data:function(){return{ValidationRules:{Name:C.string().required().ensure().min(2)},Form:{Name:null,Phone:null}}},methods:{saveProfile:function(){Object(v["a"])("warning","Ещё не реализовано")},logout:function(){this.$store.dispatch(A["g"])}}};$.render=O;t["default"]=$}}]);
//# sourceMappingURL=chunk-2d0e2110.79d5251c.js.map