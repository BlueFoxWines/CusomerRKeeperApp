(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e925cae"],{"14a1":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),c=Object(r["S"])("data-v-0a50987b");Object(r["B"])("data-v-0a50987b");var a={class:"bluefox-title title"},i={class:"container"},o={key:0,class:"order"},d={key:0,class:"order-products"},s=Object(r["k"])("div",{class:"order-product-image column"},[Object(r["k"])("div",{class:"order-product-image-bg"}),Object(r["k"])("figure",{class:"order-product-image-pic"},[Object(r["k"])("img",{src:"assets/domini.png"})])],-1),u={class:"order-product-title column"},l={class:"order-product-title-name"},O=Object(r["k"])("p",{class:"order-product-title-desc"}," 0.75 л, Франция ",-1),b=Object(r["k"])("p",{class:"order-product-title-desc"}," Cabernet sovingion ",-1),f={class:"order-product-total column is-2"},j={class:"order-product-amount"},p={class:"order-product-price"},m=Object(r["k"])("hr",null,null,-1),h={class:"order-total"},g={class:"bluefox-title"},k={class:"bluefox-title"},y={class:"bluefox-title"},v={class:"bluefox-title"},I={key:1,class:"order-pay control"},P={key:2,class:"order-booked"},w={key:3,class:"order-booked"};Object(r["z"])();var C=c((function(e,t,n,C,$,T){var S=Object(r["G"])("ion-back-button"),L=Object(r["G"])("ion-buttons"),B=Object(r["G"])("ion-title"),K=Object(r["G"])("ion-toolbar"),G=Object(r["G"])("ion-header"),_=Object(r["G"])("ion-refresher-content"),F=Object(r["G"])("ion-refresher"),x=Object(r["G"])("router-link"),A=Object(r["G"])("ion-content"),D=Object(r["G"])("loading"),E=Object(r["G"])("ion-page");return Object(r["y"])(),Object(r["g"])(E,null,{default:c((function(){return[Object(r["k"])(G,{translucent:""},{default:c((function(){return[Object(r["k"])(K,null,{default:c((function(){return[Object(r["k"])(L,{slot:"start"},{default:c((function(){return[Object(r["k"])(S,{"default-href":"/main/orders"})]})),_:1}),Object(r["k"])(B,null,{default:c((function(){return[Object(r["k"])("h1",a,Object(r["K"])(e.$t("Interface.Order.TitleSingle")),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["k"])(A,{fullscreen:"",class:"ion-padding"},{default:c((function(){return[Object(r["k"])(F,{slot:"fixed",onIonRefresh:t[1]||(t[1]=function(e){return T.getOrder(e)})},{default:c((function(){return[Object(r["k"])(_)]})),_:1}),Object(r["k"])("div",i,[$.Order?(Object(r["y"])(),Object(r["g"])("div",o,[Object(r["k"])("p",{class:["order-status",{"is-notpayed":0===$.Order.OrderStatus,"is-payed":2===$.Order.OrderStatus,"is-closed":4===$.Order.OrderStatus}]},Object(r["K"])(e.$t("Interface.Order.Status."+$.Order.OrderStatus)),3),$.Order.ProductItems&&$.Order.ProductItems.length>0?(Object(r["y"])(),Object(r["g"])("ul",d,[(Object(r["y"])(!0),Object(r["g"])(r["a"],null,Object(r["E"])($.Order.ProductItems,(function(e){return Object(r["y"])(),Object(r["g"])("li",{key:e.Id,class:"order-product columns is-gapless is-mobile"},[s,Object(r["k"])("div",u,[Object(r["k"])("p",l,Object(r["K"])(e.Name),1),O,b]),Object(r["k"])("div",f,[Object(r["k"])("p",j,"x"+Object(r["K"])(e.Quantity),1),Object(r["k"])("p",p,Object(r["K"])(e.Price)+" ₽",1)])])})),128))])):Object(r["h"])("",!0),m,Object(r["k"])("div",h,[Object(r["k"])("dl",null,[Object(r["k"])("dt",g,Object(r["K"])(e.$t("Interface.Order.Total")),1),Object(r["k"])("dd",k,Object(r["K"])($.Order.Price)+" ₽ ",1)]),Object(r["k"])("dl",null,[Object(r["k"])("dt",y,Object(r["K"])(e.$t("Interface.Order.Payed")),1),Object(r["k"])("dd",v,Object(r["K"])($.Order.Paid)+" ₽ ",1)])]),0===$.Order.OrderStatus||3===$.Order.OrderStatus?(Object(r["y"])(),Object(r["g"])("div",I,[$.Order?(Object(r["y"])(),Object(r["g"])(x,{key:0,to:{name:"Pay",params:{id:$.Order.Id},query:{booked:!($.Order.ProductItems&&$.Order.ProductItems.length>0),holdsumm:parseInt($.Order.Paid,10),summ:parseInt($.Order.Price,10)}},class:"button is-theme is-fullwidth"},{default:c((function(){return[Object(r["j"])(Object(r["K"])(e.$t("Interface.Pay.Button")),1)]})),_:1},8,["to"])):Object(r["h"])("",!0)])):Object(r["h"])("",!0),1===$.Order.OrderStatus?(Object(r["y"])(),Object(r["g"])("p",P,Object(r["K"])(e.$tc("Interface.Order.BookInfoPayed",7,{table:T.getTableCode($.Order.TableCode),date:T.filterDateTime($.Order.StartDate)})),1)):(Object(r["y"])(),Object(r["g"])("p",w,Object(r["K"])(e.$tc("Interface.Order.BookInfo",7,{table:T.getTableCode($.Order.TableCode),date:T.filterDateTime($.Order.StartDate)})),1))])):Object(r["h"])("",!0)])]})),_:1}),Object(r["k"])(D,{active:e.IsLoading,"is-full-page":!0},null,8,["active"])]})),_:1})})),$=n("d867"),T=n("5da7"),S=n("2658"),L=n("3a5e"),B=n("74f4"),K={name:"Order",components:{IonContent:$["e"],IonPage:$["l"],IonButtons:$["d"],IonBackButton:$["b"],IonHeader:$["g"],IonToolbar:$["t"],IonTitle:$["s"],IonRefresher:$["m"],IonRefresherContent:$["n"],Loading:L["a"]},mixins:[S["a"]],data:function(){return{Order:null}},mounted:function(){this.getOrder()},methods:{getTableCode:function(e){return e=parseInt(e,10),e<7?e:"VIP "+(e-6)},getOrder:function(e){var t=this;e||this.switchLoading(),this.$store.dispatch(B["g"],this.$route.params.id).then((function(n){t.Order=n.data,e&&e.target.complete()})).finally((function(){e||t.switchLoading()}))},filterDateTime:function(e){return Object(T["a"])(e)}}};n("c94f");K.render=C,K.__scopeId="data-v-0a50987b";t["default"]=K},2658:function(e,t,n){"use strict";t["a"]={data:function(){return{IsLoading:!1}},methods:{switchLoading:function(){this.IsLoading=!this.IsLoading}}}},"3a5e":function(e,t,n){"use strict";var r=n("7a23"),c=Object(r["k"])("div",{class:"loading-icon"},null,-1);function a(e,t,n,a,i,o){return Object(r["y"])(),Object(r["g"])(r["d"],{name:n.animation},{default:Object(r["P"])((function(){return[i.isActive?(Object(r["y"])(),Object(r["g"])("div",{key:0,class:["loading-overlay is-active",{"is-full-page":i.displayInFullPage}]},[Object(r["k"])("div",{class:"loading-background",onClick:t[1]||(t[1]=function(){return o.cancel&&o.cancel.apply(o,arguments)})}),Object(r["F"])(e.$slots,"default",{},(function(){return[c]}))],2)):Object(r["h"])("",!0)]})),_:1},8,["name"])}var i=n("5da7"),o={name:"BLoading",model:{prop:"active",event:"update:active"},props:{active:Boolean,programmatic:Boolean,container:{type:[Object,Function,window.HTMLElement],default:null},isFullPage:{type:Boolean,default:!0},animation:{type:String,default:"fade"},canCancel:{type:Boolean,default:!1},onCancel:{type:Function,default:function(){}}},data:function(){return{isActive:this.active||!1,displayInFullPage:this.isFullPage}},watch:{active:function(e){this.isActive=e},isFullPage:function(e){this.displayInFullPage=e}},created:function(){"undefined"!==typeof window&&document.addEventListener("keyup",this.keyPress)},beforeMount:function(){this.programmatic&&(this.container?(this.displayInFullPage=!1,this.$emit("update:is-full-page",!1),this.container.appendChild(this.$el)):document.body.appendChild(this.$el))},mounted:function(){this.programmatic&&(this.isActive=!0)},beforeUnmount:function(){"undefined"!==typeof window&&document.removeEventListener("keyup",this.keyPress)},methods:{cancel:function(){this.canCancel&&this.isActive&&this.close()},close:function(){var e=this;this.onCancel.apply(null,arguments),this.$emit("close"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout((function(){e.$destroy(),Object(i["b"])(e.$el)}),150))},keyPress:function(e){var t=e.key;"Escape"!==t&&"Esc"!==t||this.cancel()}}};o.render=a;t["a"]=o},"5da7":function(e,t,n){"use strict";function r(e){var t={year:"numeric",month:"numeric",day:"numeric",timezone:"UTC",hour:"numeric",minute:"numeric"};return new Date(e).toLocaleString("ru",t)}function c(e){"undefined"!==typeof e.remove?e.remove():"undefined"!==typeof e.parentNode&&null!==e.parentNode&&e.parentNode.removeChild(e)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}))},"857e":function(e,t,n){},c94f:function(e,t,n){"use strict";n("857e")}}]);
//# sourceMappingURL=chunk-6e925cae.b9628fb5.js.map